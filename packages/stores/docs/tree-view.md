# Tree View

The tree view store maintains a hierarchical structure of items. Each item in the tree view store is represented by a `TreeItem` object. The tree view store is a `TreeStore` object.

## Properties

A TreeView can be created by supplying a nested list of items, a field mapping and a set of configuration options. The field mapping is used to map the fields of the items to the columns of the tree view. The configuration options are used to specify the properties of the tree view.

### Items

The items are represented as a nested list of items. Each item in the list is a list of values. The values in the list are used to populate the columns of the tree view. The items can be nested to create a hierarchical structure.

```json
[
  {
    "name": "Root",
    "children": [
      {
        "name": "Child 1"
      },
      {
        "name": "Child 2"
      }
    ]
  }
]
```

### Field Mapping

The field mapping is used to map the fields of the items to the columns of the tree view. The field mapping is a list of objects. Each object in the list specifies the mapping of a field to a column.

```json
{
  "children": "children",
  "text": "name",
  "id": "id"
}
```

### Wrapper

The store creates a wrapper encapsulating the nodes of the data. This way we can manage the state of the nodes and the data separately.

The wrapper node consists of the following properties:

- _id_: The unique identifier of the node. If the input data does not have an id, a unique id is generated by combining the index hierarchy of the node.
- _node_: A reference to the node in the input data
- _index_: An array of indices that represent the position of the node in the input data
- _level_ : The level of the node in the hierarchy
- _parent_: A reference to the parent node
- _isExpanded_: A flag indicating whether the node is expanded
- _isHidden_ : A flag indicating whether the node is hidden
- _isHiddenByFilter_ : A flag indicating whether the node is hidden by a filter
- _isSelected_ : A flag indicating whether the node is selected
- _isDraggedOver_ : A flag indicating whether the node is is being dragged over
- _children_: An array of child nodes

This wrapper is available as a property of the store.

### State

To handle drag and drop, selection & filtering, the store maintains a state object. The state object is used to store the state of the tree view.

The state object consists of the following properties:

- _selectedNodes_: An array of selected nodes
- _initialSelectedNode_: The node that was selected first
- _draggedNode_: The node that is being dragged
- _dropTargetNode_: The node that is the target of the drop

## Methods

The tree view store provides a set of methods to interact with the tree view. The methods are used to manipulate the tree view, handle events and manage the state of the tree view.

### Navigation

- moveUp: Move the selection up
- moveDown: Move the selection down
- moveLeft: Move the selection to the left
- moveRight: Move the selection to the right
- moveHome: Move the selection to the first node
- moveEnd: Move the selection to the last node

### Selection

- selectAll: Select all nodes
- deselectAll: Deselect all nodes
- toggleSelection: Toggle the selection of the node

### Expansion

- expandAll: Expand all nodes
- collapseAll: Collapse all nodes
- expand: Expand the selected node
- collapse: Collapse the selected node
- toggleExpansion: Toggle the expansion of the node

### Find

- findNodeById: Find a node by id
- findNodeByIndex: Find a node by index

### Drag and Drop

- startDrag: Start dragging the selected node
- endDrag: End dragging the selected node
- drop: Drop the dragged node on the target node
